# ğŸš€ ç¶²ç«™éƒ¨ç½²æŒ‡å—

**æ›´æ–°æ™‚é–“**: 2025-10-31 17:07
**å°ˆæ¡ˆ**: æ„›å¿ƒæ’è¡Œæ¦œç³»çµ±
**ç›®æ¨™**: éƒ¨ç½²åˆ° Firebase Hosting

---

## ğŸ“‹ éƒ¨ç½²å‰æª¢æŸ¥æ¸…å–®

### âœ… å·²å®Œæˆ
- [x] ç¨‹å¼ç¢¼ä¿®å¾©å®Œæˆï¼ˆå‰å¾Œç«¯è¡çªå·²è§£æ±ºï¼‰
- [x] æ¨é€åˆ° GitHub (https://github.com/GALLACE1111/mywebsite)
- [x] Git å·¥ä½œç›®éŒ„ä¹¾æ·¨
- [x] Firebase é…ç½®æª”æ¡ˆæ­£ç¢ºï¼ˆfirebase.json, .firebasercï¼‰
- [x] Firebase CLI å·²å®‰è£ï¼ˆv14.22.0ï¼‰

### âš ï¸ å¾…å®Œæˆ
- [ ] **Firebase ç™»å…¥** â† å¿…é ˆå…ˆå®Œæˆ
- [ ] **Firestore è³‡æ–™åº«å•Ÿç”¨** â† å¿…é ˆå…ˆå®Œæˆï¼ˆå¦å‰‡å¾Œç«¯åŠŸèƒ½ç„¡æ³•ä½¿ç”¨ï¼‰
- [ ] åŸ·è¡Œéƒ¨ç½²å‘½ä»¤
- [ ] é©—è­‰éƒ¨ç½²æˆåŠŸ

---

## ğŸ¯ éƒ¨ç½²æ­¥é©Ÿ

### æ­¥é©Ÿ 1: Firebase ç™»å…¥

**åœ¨å‘½ä»¤æç¤ºå­—å…ƒï¼ˆCMDï¼‰æˆ– PowerShell åŸ·è¡Œ**:

```bash
cd D:\ç¶²é \website
firebase login
```

**é æœŸæµç¨‹**:
1. ç€è¦½å™¨æœƒè‡ªå‹•é–‹å•Ÿ
2. é¸æ“‡ä½ çš„ Google å¸³è™Ÿï¼ˆèˆ‡ Firebase å°ˆæ¡ˆé—œè¯çš„å¸³è™Ÿï¼‰
3. æˆæ¬Š Firebase CLI
4. çœ‹åˆ°ã€ŒSuccess! Logged in as your-email@gmail.comã€

**é©—è­‰ç™»å…¥æˆåŠŸ**:
```bash
firebase login:list
```

æ‡‰è©²é¡¯ç¤ºä½ çš„ Google å¸³è™Ÿã€‚

---

### æ­¥é©Ÿ 2: å•Ÿç”¨ Firestoreï¼ˆéå¸¸é‡è¦ï¼ï¼‰

å¦‚æœé‚„æ²’å•Ÿç”¨ Firestoreï¼Œ**å¿…é ˆå…ˆå®Œæˆé€™ä¸€æ­¥**ï¼š

1. **é–‹å•Ÿ Firebase Console**:
   ```
   https://console.firebase.google.com/project/side-project-663de/firestore
   ```

2. **å»ºç«‹è³‡æ–™åº«**:
   - é»æ“Šã€Œå»ºç«‹è³‡æ–™åº«ã€æŒ‰éˆ•
   - é¸æ“‡ã€Œ**æ¸¬è©¦æ¨¡å¼**ã€ï¼ˆ30å¤©æœ‰æ•ˆï¼‰
   - é¸æ“‡åœ°å€ï¼šã€Œ**asia-east1 (å°ç£)**ã€
   - ç­‰å¾… 1-2 åˆ†é˜å®Œæˆ

3. **åˆå§‹åŒ–æ¸¬è©¦è³‡æ–™**ï¼ˆå¯é¸ï¼‰:
   ```bash
   cd D:\ç¶²é \website\backend\nodejs
   node scripts/init-firestore.js
   ```

**ç‚ºä»€éº¼å¿…é ˆå•Ÿç”¨ï¼Ÿ**
ç›®å‰å¾Œç«¯æ‰€æœ‰åŠŸèƒ½éƒ½ä¾è³´ Firestoreï¼Œå¦‚æœä¸å•Ÿç”¨ï¼š
- âŒ æ’è¡Œæ¦œç„¡æ³•è¼‰å…¥
- âŒ åˆ†æ•¸ç„¡æ³•æäº¤
- âŒ ç”¨æˆ¶è³‡æ–™ç„¡æ³•å„²å­˜

---

### æ­¥é©Ÿ 3: éƒ¨ç½²åˆ° Firebase Hosting

**éƒ¨ç½²å‰ç«¯ï¼ˆéœæ…‹æª”æ¡ˆï¼‰**:

```bash
cd D:\ç¶²é \website
firebase deploy --only hosting
```

**é æœŸè¼¸å‡º**:
```
=== Deploying to 'side-project-663de'...

i  deploying hosting
âœ”  hosting[side-project-663de]: Hosting deployment complete
âœ”  Deploy complete!

Project Console: https://console.firebase.google.com/project/side-project-663de/overview
Hosting URL: https://side-project-663de.web.app
```

**éƒ¨ç½²æ™‚é–“**: ç´„ 30 ç§’ - 2 åˆ†é˜

---

### æ­¥é©Ÿ 4: é©—è­‰éƒ¨ç½²

1. **é–‹å•Ÿç¶²ç«™**:
   ```
   https://side-project-663de.web.app
   ```

2. **æ¸¬è©¦åŠŸèƒ½**:
   - [ ] é é¢æ­£å¸¸è¼‰å…¥
   - [ ] æŒ‰ä¸‹ F12 é–‹å•Ÿé–‹ç™¼è€…å·¥å…·
   - [ ] æŸ¥çœ‹ Console æ˜¯å¦æœ‰éŒ¯èª¤
   - [ ] æ’è¡Œæ¦œæ˜¯å¦é¡¯ç¤ºï¼ˆéœ€è¦ Firestore å•Ÿç”¨ï¼‰
   - [ ] é»æ“Šæ„›å¿ƒæ˜¯å¦èƒ½å¢åŠ åˆ†æ•¸ï¼ˆéœ€è¦ Firestore å•Ÿç”¨ï¼‰

---

## ğŸ”§ éƒ¨ç½²é¸é …

### é¸é … A: åƒ…éƒ¨ç½²å‰ç«¯ï¼ˆå¿«é€Ÿé è¦½ï¼‰

å¦‚æœ Firestore å°šæœªå•Ÿç”¨ï¼Œä½ å¯ä»¥å…ˆéƒ¨ç½²å‰ç«¯ï¼š

```bash
firebase deploy --only hosting
```

**å„ªé»**:
- å¿«é€Ÿéƒ¨ç½²
- å¯ä»¥çœ‹åˆ° UI

**ç¼ºé»**:
- æ’è¡Œæ¦œåŠŸèƒ½ç„¡æ³•ä½¿ç”¨ï¼ˆé¡¯ç¤ºéŒ¯èª¤ï¼‰
- éœ€è¦ç­‰ Firestore å•Ÿç”¨å¾Œæ‰èƒ½å®Œæ•´æ¸¬è©¦

---

### é¸é … B: å®Œæ•´éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰

**å…ˆå•Ÿç”¨ Firestoreï¼Œå†éƒ¨ç½²**ï¼š

1. å•Ÿç”¨ Firestoreï¼ˆæ­¥é©Ÿ 2ï¼‰
2. éƒ¨ç½² Hosting:
   ```bash
   firebase deploy --only hosting
   ```

**å„ªé»**:
- æ‰€æœ‰åŠŸèƒ½ç«‹å³å¯ç”¨
- å®Œæ•´çš„ç”¨æˆ¶é«”é©—

**ç¼ºé»**:
- éœ€è¦å…ˆå®Œæˆ Firestore è¨­å®š

---

### é¸é … C: éƒ¨ç½²æ‰€æœ‰æœå‹™ï¼ˆé€²éšï¼‰

å¦‚æœæœªä¾†è¦éƒ¨ç½² Cloud Functionsã€Firestore è¦å‰‡ç­‰ï¼š

```bash
firebase deploy
```

**åŒ…å«**:
- Hostingï¼ˆå‰ç«¯ï¼‰
- Firestore Rulesï¼ˆè³‡æ–™åº«è¦å‰‡ï¼‰
- Storage Rulesï¼ˆæª”æ¡ˆå„²å­˜è¦å‰‡ï¼‰
- Functionsï¼ˆå¦‚æœ‰é…ç½®ï¼‰

---

## ğŸš¨ å¸¸è¦‹å•é¡Œ

### Q1: éƒ¨ç½²å¾Œçœ‹åˆ°ã€ŒQuota exceededã€éŒ¯èª¤ï¼Ÿ

**åŸå› **: Firestore å°šæœªå•Ÿç”¨

**è§£æ±ºæ–¹æ³•**: æŒ‰ç…§ã€Œæ­¥é©Ÿ 2ã€å•Ÿç”¨ Firestore

---

### Q2: éƒ¨ç½²å¤±æ•—ã€ŒPermission deniedã€ï¼Ÿ

**åŸå› **: æœªç™»å…¥æˆ–æ¬Šé™ä¸è¶³

**è§£æ±ºæ–¹æ³•**:
```bash
firebase login
firebase projects:list  # æª¢æŸ¥æ˜¯å¦çœ‹åˆ° side-project-663de
```

---

### Q3: ç¶²ç«™é¡¯ç¤º 404 éŒ¯èª¤ï¼Ÿ

**åŸå› **:
- Hosting è¨­å®šéŒ¯èª¤
- æª”æ¡ˆè·¯å¾‘ä¸æ­£ç¢º

**è§£æ±ºæ–¹æ³•**:
æª¢æŸ¥ `firebase.json`:
```json
{
  "hosting": {
    "public": "frontend",  // ç¢ºä¿é€™å€‹ç›®éŒ„å­˜åœ¨
    ...
  }
}
```

---

### Q4: æ’è¡Œæ¦œä¸€ç›´è½‰åœˆåœˆï¼ˆLoadingï¼‰ï¼Ÿ

**åŸå› **:
- Firestore æœªå•Ÿç”¨
- æˆ–ç¶²è·¯é€£æ¥å•é¡Œ

**è§£æ±ºæ–¹æ³•**:
1. é–‹å•Ÿç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console éŒ¯èª¤è¨Šæ¯
3. æŸ¥çœ‹ Network æ¨™ç±¤ï¼Œæª¢æŸ¥ API è«‹æ±‚ç‹€æ…‹

---

### Q5: æœ¬åœ°å¯ä»¥é‹ä½œï¼Œéƒ¨ç½²å¾Œä¸è¡Œï¼Ÿ

**æª¢æŸ¥æ¸…å–®**:
1. **CORS è¨­å®š**:
   - `backend/nodejs/server.js` çš„ CORS è¨­å®šæ˜¯å¦æ­£ç¢º
   - ç›®å‰è¨­å®šç‚ºå…è¨±æ‰€æœ‰ä¾†æºï¼ˆ`origin: '*'`ï¼‰

2. **API URL**:
   - `frontend/config.js` çš„ `API_BASE_URL` æ˜¯å¦æ­£ç¢º
   - ç›®å‰è¨­å®šç‚º `http://localhost:3000`

**ä¿®å¾©**:
éƒ¨ç½²å¾Œï¼Œéœ€è¦å°‡ API æŒ‡å‘æ­£ç¢ºçš„å¾Œç«¯ URLï¼ˆå¦‚æœå¾Œç«¯ä¹Ÿéƒ¨ç½²åˆ° Firebase Functionsï¼‰

---

## ğŸ“Š éƒ¨ç½²æ¶æ§‹

### ç•¶å‰æ¶æ§‹ï¼ˆåƒ… Hostingï¼‰:

```
ä½¿ç”¨è€…ç€è¦½å™¨
      â†“
Firebase Hostingï¼ˆå‰ç«¯éœæ…‹æª”æ¡ˆï¼‰
      â†“
æœ¬åœ° Node.js Server (localhost:3000)  â† éœ€è¦æ‰‹å‹•å•Ÿå‹•
      â†“
Firebase Firestore
```

**é™åˆ¶**:
- å¾Œç«¯ä»åœ¨æœ¬æ©Ÿé‹è¡Œ
- éœ€è¦é›»è…¦æŒçºŒé–‹æ©Ÿ
- åƒ…æœ¬åœ°ç¶²è·¯å¯è¨ªå•å¾Œç«¯

---

### æœªä¾†æ¶æ§‹ï¼ˆå®Œæ•´é›²ç«¯ï¼‰:

```
ä½¿ç”¨è€…ç€è¦½å™¨
      â†“
Firebase Hostingï¼ˆå‰ç«¯éœæ…‹æª”æ¡ˆï¼‰
      â†“
Firebase Functionsï¼ˆå¾Œç«¯ APIï¼‰  â† æœªä¾†å¯é·ç§»
      â†“
Firebase Firestore
```

**å„ªé»**:
- å®Œå…¨é›²ç«¯é‹è¡Œ
- è‡ªå‹•æ“´å±•
- ç„¡éœ€ç¶­è­·ä¼ºæœå™¨

---

## ğŸ¯ éƒ¨ç½²å¾Œçš„ URL

éƒ¨ç½²æˆåŠŸå¾Œï¼Œä½ çš„ç¶²ç«™å°‡å¯ä»¥é€šéä»¥ä¸‹ URL è¨ªå•ï¼š

### ä¸»è¦ URL:
```
https://side-project-663de.web.app
```

### æ›¿ä»£ URL:
```
https://side-project-663de.firebaseapp.com
```

### Firebase Console:
```
https://console.firebase.google.com/project/side-project-663de/overview
```

### Hosting ç®¡ç†é é¢:
```
https://console.firebase.google.com/project/side-project-663de/hosting
```

---

## ğŸ“ éƒ¨ç½²å¾Œéœ€è¦ä¿®æ”¹çš„åœ°æ–¹

### 1. æ›´æ–°å‰ç«¯ API URL

**æª”æ¡ˆ**: `frontend/config.js`

```javascript
// ç›®å‰ï¼ˆæœ¬åœ°é–‹ç™¼ï¼‰:
const API_BASE_URL = 'http://localhost:3000';

// æœªä¾†ï¼ˆéƒ¨ç½²å¾Œç«¯åˆ° Firebase Functionsï¼‰:
const API_BASE_URL = 'https://asia-east1-side-project-663de.cloudfunctions.net/api';

// æˆ–è€…ä½¿ç”¨ç’°å¢ƒæª¢æ¸¬ï¼ˆæ¨è–¦ï¼‰:
const API_BASE_URL = window.location.hostname === 'localhost'
  ? 'http://localhost:3000'
  : 'https://asia-east1-side-project-663de.cloudfunctions.net/api';
```

### 2. æ›´æ–° CORS è¨­å®šï¼ˆå¦‚éœ€è¦ï¼‰

**æª”æ¡ˆ**: `backend/nodejs/server.js`

```javascript
// é–‹ç™¼ç’°å¢ƒï¼ˆå…è¨±æ‰€æœ‰ä¾†æºï¼‰:
app.use(cors({
  origin: '*'
}));

// ç”Ÿç”¢ç’°å¢ƒï¼ˆé™åˆ¶ä¾†æºï¼‰:
app.use(cors({
  origin: [
    'https://side-project-663de.web.app',
    'https://side-project-663de.firebaseapp.com'
  ]
}));
```

---

## ğŸ”„ é‡æ–°éƒ¨ç½²

ä¿®æ”¹ç¨‹å¼ç¢¼å¾Œé‡æ–°éƒ¨ç½²ï¼š

```bash
cd D:\ç¶²é \website

# 1. æäº¤è®Šæ›´åˆ° Gitï¼ˆå¯é¸ï¼‰
git add .
git commit -m "æ›´æ–°éƒ¨ç½²è¨­å®š"
git push

# 2. é‡æ–°éƒ¨ç½²åˆ° Firebase
firebase deploy --only hosting
```

---

## ğŸ‰ å¿«é€Ÿé–‹å§‹

**æœ€ç°¡å–®çš„éƒ¨ç½²æµç¨‹**:

```bash
# 1. ç™»å…¥ Firebase
cd D:\ç¶²é \website
firebase login

# 2. å•Ÿç”¨ Firestoreï¼ˆåœ¨ Firebase Console æ‰‹å‹•å®Œæˆï¼‰
# https://console.firebase.google.com/project/side-project-663de/firestore

# 3. éƒ¨ç½²å‰ç«¯
firebase deploy --only hosting

# 4. é–‹å•Ÿç¶²ç«™
# https://side-project-663de.web.app
```

---

## ğŸ“ éœ€è¦å”åŠ©

å¦‚é‡å•é¡Œï¼Œè«‹æª¢æŸ¥ï¼š
1. Firebase Console çš„éƒ¨ç½²è¨˜éŒ„
2. ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·çš„ Console éŒ¯èª¤
3. `FIRESTORE_å•Ÿç”¨æŒ‡å—.md` - Firestore è¨­å®šèªªæ˜
4. `å°ˆæ¡ˆå®Œæ•´ç‹€æ…‹.md` - å°ˆæ¡ˆç•¶å‰ç‹€æ…‹

---

**éƒ¨ç½²æŒ‡å—å®Œæˆ** | 2025-10-31 17:07
