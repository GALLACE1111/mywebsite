<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>åœ–ç‰‡å‹•ç•«æ¸¬è©¦</title>
  <style>
    body {
      margin: 0;
      padding: 40px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      font-family: 'Microsoft YaHei', sans-serif;
    }

    .test-container {
      background: white;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      text-align: center;
      max-width: 800px;
    }

    h1 {
      color: #667eea;
      margin-bottom: 30px;
    }

    .image-display {
      background: #f5f5f5;
      padding: 30px;
      border-radius: 15px;
      margin: 20px 0;
      border: 3px dashed #667eea;
    }

    .image-display img {
      max-width: 100%;
      height: auto;
      image-rendering: pixelated; /* ä¿æŒåƒç´ è—è¡“æ¸…æ™° */
    }

    .info {
      background: #e8eaf6;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
      text-align: left;
    }

    .info p {
      margin: 10px 0;
      color: #333;
    }

    .status {
      font-size: 24px;
      font-weight: bold;
      padding: 15px;
      border-radius: 10px;
      margin-top: 20px;
    }

    .animated {
      background: #c8e6c9;
      color: #2e7d32;
    }

    .static {
      background: #ffccbc;
      color: #d84315;
    }

    .upload-area {
      border: 3px dashed #667eea;
      padding: 40px;
      border-radius: 15px;
      margin: 20px 0;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .upload-area:hover {
      background: #f5f5f5;
      transform: scale(1.02);
    }

    .upload-area input {
      display: none;
    }

    .upload-text {
      font-size: 18px;
      color: #667eea;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <div class="test-container">
    <h1>ğŸ¨ åœ–ç‰‡å‹•ç•«æ¸¬è©¦å·¥å…·</h1>

    <div class="upload-area" onclick="document.getElementById('fileInput').click()">
      <div style="font-size: 60px;">ğŸ“‚</div>
      <div class="upload-text">é»æ“Šé€™è£¡ä¸Šå‚³åœ–ç‰‡é€²è¡Œæ¸¬è©¦</div>
      <input type="file" id="fileInput" accept="image/*">
    </div>

    <div class="image-display" id="imageDisplay" style="display: none;">
      <img id="testImage" src="" alt="æ¸¬è©¦åœ–ç‰‡">
    </div>

    <div class="status" id="status" style="display: none;">
      <!-- ç‹€æ…‹æœƒé¡¯ç¤ºåœ¨é€™è£¡ -->
    </div>

    <div class="info" id="info" style="display: none;">
      <h3>ğŸ“Š åœ–ç‰‡è³‡è¨Šï¼š</h3>
      <p><strong>æª”æ¡ˆåç¨±ï¼š</strong><span id="fileName">-</span></p>
      <p><strong>æª”æ¡ˆå¤§å°ï¼š</strong><span id="fileSize">-</span></p>
      <p><strong>åœ–ç‰‡æ ¼å¼ï¼š</strong><span id="fileType">-</span></p>
      <p><strong>åœ–ç‰‡å°ºå¯¸ï¼š</strong><span id="imageDimensions">-</span></p>
      <p><strong>å‹•ç•«ç‹€æ…‹ï¼š</strong><span id="animationStatus">-</span></p>
    </div>
  </div>

  <script>
    const fileInput = document.getElementById('fileInput');
    const testImage = document.getElementById('testImage');
    const imageDisplay = document.getElementById('imageDisplay');
    const statusDiv = document.getElementById('status');
    const infoDiv = document.getElementById('info');

    fileInput.addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (!file) return;

      // é¡¯ç¤ºåœ–ç‰‡
      const reader = new FileReader();
      reader.onload = function(event) {
        testImage.src = event.target.result;
        imageDisplay.style.display = 'block';

        // æª¢æ¸¬åœ–ç‰‡æ ¼å¼
        const fileType = file.type;
        const fileName = file.name;
        const fileSize = (file.size / 1024).toFixed(2) + ' KB';

        // åˆ¤æ–·æ˜¯å¦ç‚ºå‹•ç•«æ ¼å¼
        const isAnimated = fileType === 'image/gif' ||
                          fileType === 'image/apng' ||
                          fileType === 'image/webp';

        // æ›´æ–°è³‡è¨Š
        document.getElementById('fileName').textContent = fileName;
        document.getElementById('fileSize').textContent = fileSize;
        document.getElementById('fileType').textContent = fileType;
        document.getElementById('animationStatus').textContent =
          isAnimated ? 'âœ… å¯èƒ½åŒ…å«å‹•ç•«' : 'âŒ éœæ…‹åœ–ç‰‡';

        // ç•¶åœ–ç‰‡è¼‰å…¥å¾Œå–å¾—å°ºå¯¸
        testImage.onload = function() {
          document.getElementById('imageDimensions').textContent =
            `${testImage.naturalWidth} Ã— ${testImage.naturalHeight} px`;
        };

        // é¡¯ç¤ºç‹€æ…‹
        statusDiv.style.display = 'block';
        infoDiv.style.display = 'block';

        if (isAnimated) {
          statusDiv.className = 'status animated';
          statusDiv.innerHTML = 'âœ… é€™æ˜¯å‹•ç•«åœ–ç‰‡æ ¼å¼ï¼<br>å¦‚æœæ²’æœ‰çœ‹åˆ°å‹•ç•«ï¼Œå¯èƒ½æª”æ¡ˆåªæœ‰å–®å¹€ã€‚';
        } else {
          statusDiv.className = 'status static';
          statusDiv.innerHTML = 'ğŸ“· é€™æ˜¯éœæ…‹åœ–ç‰‡æ ¼å¼';
        }
      };

      reader.readAsDataURL(file);
    });
  </script>
</body>
</html>
