# 🔥 Firestore 啟用指南

## 📌 快速啟用（只需3步驟）

### 步驟 1: 打開Firebase Console
點擊此連結直接進入您的專案：
👉 https://console.firebase.google.com/project/side-project-663de/firestore

### 步驟 2: 創建資料庫
當頁面打開後，您會看到一個按鈕：

```
📝 點擊 "建立資料庫" 或 "Create database"
```

### 步驟 3: 選擇模式和地區

#### 3.1 選擇啟動模式
- ✅ **測試模式** (推薦用於開發)
  - 允許任何人讀寫數據
  - 適合測試和開發
  - 30天後需要更新規則

- 🔒 **正式版模式**
  - 需要身份驗證
  - 更安全
  - 適合生產環境

**建議**: 先選擇 "測試模式"，之後可以修改規則

#### 3.2 選擇地區
推薦選項：
- 🇹🇼 **asia-east1 (台灣)**  ← 推薦！距離最近
- 🇺🇸 **us-central1 (美國中部)**
- 🇯🇵 **asia-northeast1 (東京)**

**重要**: 地區一旦選擇就無法更改！

### 步驟 4: 等待創建完成
- Firebase 會自動創建資料庫
- 大約需要 1-2 分鐘
- 完成後會自動跳轉到資料庫頁面

---

## ✅ 完成後執行

資料庫啟用後，在命令行執行：

```bash
cd D:\網頁\website\backend\nodejs
node scripts/init-firestore.js
```

這個腳本會自動：
- ✅ 創建 leaderboard 集合
- ✅ 添加5個測試玩家數據
- ✅ 驗證數據是否正確

---

## 🎯 視覺化指引

### 您會看到的畫面：

```
┌─────────────────────────────────────┐
│  Cloud Firestore                    │
├─────────────────────────────────────┤
│                                     │
│     📦 還沒有資料庫                  │
│                                     │
│     [建立資料庫] ← 點擊這個按鈕      │
│                                     │
└─────────────────────────────────────┘
```

### 然後選擇：

```
┌─────────────────────────────────────┐
│  選擇啟動模式                        │
├─────────────────────────────────────┤
│  ○ 正式版模式                        │
│     需要身份驗證                     │
│                                     │
│  ● 測試模式  ← 選擇這個              │
│     允許所有讀寫（開發用）           │
│                                     │
│  [下一步]                            │
└─────────────────────────────────────┘
```

### 最後選擇地區：

```
┌─────────────────────────────────────┐
│  選擇 Cloud Firestore 位置           │
├─────────────────────────────────────┤
│  🇹🇼 asia-east1 (台灣)   ← 推薦     │
│  🇺🇸 us-central1 (美國中部)         │
│  🇯🇵 asia-northeast1 (東京)         │
│                                     │
│  [啟用]                              │
└─────────────────────────────────────┘
```

---

## 🐛 常見問題

### Q: 找不到"建立資料庫"按鈕？
A: 請確認您已登入正確的 Google 帳號，並且有專案的存取權限

### Q: 無法選擇地區？
A: 可能資料庫已經創建。檢查頁面上方是否已顯示資料庫

### Q: 顯示權限錯誤？
A: 請確認您的 Google 帳號是專案擁有者或編輯者

### Q: 執行腳本後還是顯示 NOT_FOUND？
A: 請等待1-2分鐘讓 Firestore 完全初始化，然後重新執行腳本

---

## 📞 需要幫助？

如果遇到問題，請截圖並提供：
1. Firebase Console 的畫面
2. 錯誤訊息
3. 您選擇的設定

---

## 🎉 完成後

Firestore 啟用並初始化後，您的API將能夠：
- ✅ 獲取排行榜數據
- ✅ 提交新分數
- ✅ 查詢用戶排名
- ✅ 完整的前後端互動

祝您使用順利！🚀
